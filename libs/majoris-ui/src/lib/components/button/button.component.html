<button
  class="button-default"
  [class]="classes.join(' ')"
  [disabled]="disabled"
  #button
  mjsContrastTextColor
  [color]="theme"
>
  <span
    class="truncate"
    [ngStyle]="{
      visibility: !disabled && loading ? 'hidden' : 'visible',
    }"
  >
    <ng-content></ng-content>
  </span>
  <span class="button--loading" *ngIf="!disabled && loading">
    <ng-container
      *ngTemplateOutlet="loadingTemplate || defaultLoadingTemplate"
    ></ng-container>
  </span>
</button>

<ng-template #defaultLoadingTemplate>
  <ng-container> loading... </ng-container>
</ng-template>
